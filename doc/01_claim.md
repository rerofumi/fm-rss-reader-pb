# 1. 概要

本ドキュメントは、RSSリーダーアプリケーションの要求仕様を定義する。
このアプリケーションは、ユーザーが指定したRSSフィードを収集・表示し、記事に対するAI（LLM）を利用した高度な機能を提供するWebアプリケーションである。

# 2. 機能要求

## 2.1. ユーザー管理機能

- ユーザーはアカウントを用いてログインできること。
- ログイン状態はセッションで管理され、次回アクセス時も維持されること。
- アカウントの作成は pocketbase 直接操作で良い。ユーザー登録画面は持たない。

## 2.2. RSSフィード管理機能

- ユーザーは「ジャンル」を作成、編集、削除できること。
- 各ジャンルには、複数のRSSフィードのURLを登録、編集、削除できること。
- 登録されたジャンルとRSSフィードの情報は、ユーザーアカウントに紐づけてデータベースに永続化されること。

## 2.3. RSS表示機能

- 画面はジャンルごとにタブで切り替えられるUIを持つこと。
- 各タブには、そのジャンルに登録されたRSSフィードの記事一覧が時系列順（新しいものが上）で表示されること。
- RSSフィードの取得は、CORS問題を回避するため、バックエンドサーバー経由で行うこと。
- 記事データはキャッシュせず、表示の都度、最新の情報をRSSフィードから取得すること。

## 2.4. LLM連携機能

- ユーザーは、表示された記事を選択し、LLM（大規模言語モデル）に対して問い合わせができること。
- LLM連携機能として、以下の機能を提供すること。
    - 記事の要約
    - 記事の翻訳
    - 記事に関する自由な質問
- LLMプロバイダへのアクセスは、APIキーの漏洩を防ぐため、バックエンドサーバー経由で行うこと。

## 2.5. MCP（Model Context Protocol）サーバー機能

- バックエンドは、外部のLLMアプリケーションから利用可能なMCPサーバーとして機能すること。
- RSS 記事の取得、RSS リストの取得、RSS URL の登録管理、RSS ジャンルの登録管理、といったRSSリーダーに必要な機能を MCP サーバーとして提供すること。
- フロントエンドも、バックエンドとの通信にMCPツールアクセスを利用して RSS Reader を実現すること。
- ユーザーは、フロントエンドのUIを通じて、MCPアクセストークンを取得できること。
- アプリケーションの設定、RSSフィードの管理、トークンの取得はフロントエンドからのみ行えるように制限すること。

# 3. 非機能要求

## 3.1. システム構成

- システムは、フロントエンドとバックエンドに分離した構成とすること。
- **バックエンド**:
    - PocketBase を使用し、以下の役割を担うこと。
        - データベース
        - ユーザー認証
        - 静的ファイル（フロントエンド）の配信
        - サーバーAPI（RSS取得、LLM連携など）
- **フロントエンド**:
    - [Vite](https://vitejs.dev/) + [React](https://react.dev/) をベースとしたWebアプリケーションであること。
    - 言語は TypeScript を使用すること。
    - 状態管理には [Zustand](https://github.com/pmndrs/zustand) を利用すること。
    - スタイリングには [Tailwind CSS](https://tailwindcss.com/) を利用すること。
- **LLMプロバイダ**:
    - OpenAI API 互換サービスを利用すること。

## 3.2. セキュリティ

- LLMプロバイダのAPIキーは、PocketBaseのシークレット情報として安全に管理し、フロントエンドには公開しないこと。
- ユーザー認証を必須とし、他ユーザーの登録情報にアクセスできないようにすること。

## 3.3. パフォーマンス

- RSSフィードの取得は、表示の都度リアルタイムで行うため、過度な遅延が発生しないように配慮すること。
